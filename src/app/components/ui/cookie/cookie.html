@if (shouldShowModal()) {
<div class="overlay">
  <div class="modal">
    <div class="header">
      <h3 class="title">
        <span class="text-color-primary">[$COOKIE]</span> Gestion des cookies
      </h3>
    </div>

    <div class="content">
      <p class="text">
        ASMtariste.fr utilise des cookies <strong>strictement nÃ©cessaires</strong> pour 
        fonctionner correctement. Ces cookies permettent de :
      </p>

      <ul class="featureList">
        <li>âœ“ MÃ©moriser vos prÃ©fÃ©rences de navigation</li>
        <li>âœ“ Comptabiliser vos visites pour amÃ©liorer le site</li>
        <li>âœ“ Maintenir votre session de connexion</li>
        <li>âœ“ AccÃ©der au contenu premium (si contributeur)</li>
      </ul>

      @if (showDetails()) {
      <div class="details">
        <h4 class="subtitle">DonnÃ©es collectÃ©es :</h4>
        <ul class="list">
          <li>ğŸŒ <strong>Langue du navigateur</strong> - pour adapter le contenu</li>
          <li>ğŸ“Š <strong>Nombre total de visites</strong> - pour amÃ©liorer le site</li>
          <li>ğŸ“… <strong>Dates de premiÃ¨re et derniÃ¨re visite</strong> - statistiques</li>
        </ul>
        <p class="note">
          Ces donnÃ©es sont stockÃ©es <strong>uniquement sur votre appareil</strong> (localStorage) 
          et ne sont jamais transmises Ã  des tiers.
        </p>
      </div>
      }

      <button class="detailsBtn" (click)="toggleDetails()">
        {{ showDetails() ? 'â–² Masquer les dÃ©tails' : 'â–¼ Voir les dÃ©tails' }}
      </button>

      <div class="warning">
        âš ï¸ <strong>Important :</strong> Sans ces cookies, vous ne pourrez pas accÃ©der 
        au contenu du site.
      </div>
    </div>

    <div class="actions">
      <button class="btn btnAccept btn--primary text-color-white" (click)="handleAccept()">
        âœ“ Accepter et continuer
      </button>
      <button class="btn btnRefuse btn--ghost text-color-dark" (click)="handleRefuse()">
        âœ— Refuser (bloque l'accÃ¨s)
      </button>
    </div>

    <div class="footer">
      <a routerLink="/mentions-legales" class="link">Mentions lÃ©gales</a>
      <span class="separator">â€¢</span>
      <a routerLink="/politique-confidentialite" class="link">Politique de confidentialitÃ©</a>
    </div>
  </div>
</div>
}

<!-- Cookie Wall (Ã©cran de blocage) -->
@if (shouldShowWall()) {
<div class="wallOverlay">
  <div class="wallContainer">
    <div class="wallContent">
      <div class="wallIcon">ğŸ”’</div>
      
      <h2 class="wallTitle">
        <span class="text-color-primary">[$ACCESS_DENIED]</span><br />
        AccÃ¨s au contenu refusÃ©
      </h2>
      
      <p class="wallText">
        Vous avez refusÃ© les cookies nÃ©cessaires au fonctionnement d'ASMtariste.fr.
      </p>
      
      <div class="wallBox">
        <h3 class="wallBoxTitle">Pourquoi des cookies ?</h3>
        <ul class="wallList">
          <li>ğŸ“Š <strong>Compteur de visites</strong> - Pour amÃ©liorer le site</li>
          <li>ğŸŒ <strong>PrÃ©fÃ©rences de langue</strong> - Pour adapter l'affichage</li>
          <li>ğŸ” <strong>Session utilisateur</strong> - Pour accÃ©der au contenu premium</li>
        </ul>
        <p class="wallNote">
          Ces cookies sont stockÃ©s <strong>uniquement sur votre appareil</strong> 
          (localStorage) et ne sont <strong>jamais partagÃ©s</strong> avec des tiers.
        </p>
      </div>

      <div class="wallActions">
        <button class="btn btn--primary text-color-white wallBtnAccept" (click)="handleAccept()">
          âœ“ Accepter les cookies et accÃ©der au site
        </button>
        
        <button class="btn btn--ghost text-color-dark wallBtnInfo" (click)="reopenBanner()">
          ğŸ“‹ Voir les dÃ©tails
        </button>
      </div>

      <div class="wallFooter">
        <p class="wallFooterText">
          Sans cookies, vous ne pouvez accÃ©der qu'aux mentions lÃ©gales
        </p>
        <div class="wallFooterLinks">
          <a routerLink="/mentions-legales" class="wallLink">Mentions lÃ©gales</a>
          <span class="separator">â€¢</span>
          <a routerLink="/politique-confidentialite" class="wallLink">ConfidentialitÃ©</a>
        </div>
      </div>
    </div>
  </div>
</div>
}